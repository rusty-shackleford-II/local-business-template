@import "tailwindcss";

/* ===== LOCAL BUSINESS TEMPLATE THEME ===== */
@theme {
  /* Primary Color Palette - Emerald Green */
  --color-primary-50: #F0FDF4;
  --color-primary-100: #D1FAE5;
  --color-primary-200: #A7F3D0;
  --color-primary-300: #6EE7B7;
  --color-primary-400: #34D399;
  --color-primary-500: #10B981;
  --color-primary-600: #059669;
  --color-primary-700: #047857;
  --color-primary-800: #065F46;
  --color-primary-900: #064E3B;
  
  /* Dynamic Color Palette - Can be overridden by JavaScript */
  --palette-primary: #10B981;
  --palette-secondary: #6B7280;
  
  /* Typography - Inter Font Family */
  --font-sans: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  
  /* Custom Animations */
  --animate-fade-in: fadeIn 600ms ease-out forwards;
  --animate-hover-lift: hoverLift 200ms ease-in-out;
}

/* ===== TEMPLATE UTILITIES ===== */
@layer utilities {
  /* Interactive Elements */
  .hover-lift {
    transition: transform 200ms ease-in-out, box-shadow 200ms ease-in-out;
  }
  
  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }

  .button-press:active {
    transform: translateY(1px);
  }

  /* CTA Button Animation */
  .cta-pulse {
    animation: cta-pulse 2s ease-in-out infinite;
  }

  @keyframes cta-pulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }

  /* Navigation Link Animations */
  .nav-link {
    position: relative;
    transition: all 300ms ease-in-out;
    transform: translateY(0);
    cursor: pointer;
  }

  .nav-link::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: -4px;
    left: 50%;
    background: linear-gradient(90deg, var(--palette-primary), var(--palette-primary));
    transition: all 300ms ease-in-out;
    transform: translateX(-50%);
  }

  .nav-link:hover {
    transform: translateY(-2px);
    color: var(--palette-primary) !important;
  }

  .nav-link:hover::after {
    width: 100%;
  }

  .nav-link:active {
    transform: translateY(0);
  }

  /* Mobile nav link animations */
  .mobile-nav-link {
    position: relative;
    transition: all 250ms ease-in-out;
    padding-left: 0 !important;
    transform: translateX(0);
    cursor: pointer;
  }

  .mobile-nav-link::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--palette-primary), var(--palette-primary));
    transition: all 250ms ease-in-out;
    transform: translateY(-50%);
  }

  .mobile-nav-link:hover {
    transform: translateX(8px);
    color: var(--palette-primary) !important;
  }

  .mobile-nav-link:hover::before {
    width: 20px;
  }

  /* Footer link animations */
  .footer-link {
    position: relative;
    transition: all 250ms ease-in-out;
    transform: scale(1);
    cursor: pointer;
  }

  .footer-link::after {
    content: '';
    position: absolute;
    width: 0;
    height: 1px;
    bottom: -2px;
    left: 50%;
    background: linear-gradient(90deg, var(--palette-primary), var(--palette-primary));
    transition: all 250ms ease-in-out;
    transform: translateX(-50%);
  }

  .footer-link:hover {
    transform: scale(1.05) translateY(-1px);
    color: var(--palette-primary) !important;
  }

  .footer-link:hover::after {
    width: 100%;
  }

  /* Logo hover animations */
  .logo-hover {
    transition: all 250ms ease-in-out;
    transform: scale(1);
    cursor: pointer;
  }

  .logo-hover:hover {
    transform: scale(1.05);
    filter: brightness(1.1);
  }

  /* Dynamic logo sizing */
  .dynamic-logo {
    height: var(--logo-height-sm, 2.5rem);
  }

  @media (min-width: 640px) {
    .dynamic-logo {
      height: var(--logo-height-md, 3rem);
    }
  }

  @media (min-width: 768px) {
    .dynamic-logo {
      height: var(--logo-height-lg, 3.5rem);
    }
  }

  /* Slider styling */
  .slider {
    -webkit-appearance: none;
    background: #e5e7eb;
    outline: none;
    border-radius: 0.5rem;
  }

  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--palette-primary);
    cursor: pointer;
    transition: all 0.2s ease-in-out;
  }

  .slider::-webkit-slider-thumb:hover {
    background: var(--palette-primary);
    transform: scale(1.1);
  }

  .slider::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--palette-primary);
    cursor: pointer;
    border: none;
    transition: all 0.2s ease-in-out;
  }

  .slider::-moz-range-thumb:hover {
    background: var(--palette-primary);
    transform: scale(1.1);
  }

  /* Layout Consistency */
  .header-height {
    height: 5rem; /* 80px */
  }
  
  .body-padding {
    /* Account for dynamic header height */
    padding-top: var(--dynamic-header-height, 5rem);
  }
  
  /* Responsive Header Sizing */
  @media (min-width: 767px) {
    .header-height {
      height: 6rem; /* 96px */
    }
    
    .body-padding {
      /* Use dynamic header height, fallback to 6rem for larger screens */
      padding-top: var(--dynamic-header-height, 6rem);
    }
  }
}

/* ===== GLOBAL STYLES ===== */

/* Typography */
body {
  font-family: var(--font-sans);
  background-color: white;
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* Prevent horizontal scrolling */
}

/* Prevent horizontal scrolling on all elements */
html {
  overflow-x: hidden;
}

/* Ensure the main container doesn't exceed viewport width */
.App {
  max-width: 100vw;
  overflow-x: hidden;
}

/* Global Text Sizing */
:root {
  --text-size-multiplier: 1;
}

/* Apply text sizing to common text elements */
/* Elements with individual sizing (data-element-id) should not be affected by global scaling */
.text-scalable:not([data-element-id]),
.text-scalable h1:not([data-element-id]),
.text-scalable h2:not([data-element-id]),
.text-scalable h3:not([data-element-id]),
.text-scalable h4:not([data-element-id]),
.text-scalable h5:not([data-element-id]),
.text-scalable h6:not([data-element-id]),
.text-scalable p:not([data-element-id]),
.text-scalable span:not([data-element-id]),
.text-scalable div:not([data-element-id]),
.text-scalable button:not([data-element-id]),
.text-scalable a:not([data-element-id]),
.text-scalable li:not([data-element-id]) {
  font-size: calc(1rem * var(--text-size-multiplier));
}

/* Specific scaling for different text sizes (only for elements without individual sizing) */
.text-scalable h1:not([data-element-id]) { font-size: calc(2.25rem * var(--text-size-multiplier)); }
.text-scalable h2:not([data-element-id]) { font-size: calc(1.875rem * var(--text-size-multiplier)); }
.text-scalable h3:not([data-element-id]) { font-size: calc(1.5rem * var(--text-size-multiplier)); }
.text-scalable h4:not([data-element-id]) { font-size: calc(1.25rem * var(--text-size-multiplier)); }
.text-scalable h5:not([data-element-id]) { font-size: calc(1.125rem * var(--text-size-multiplier)); }
.text-scalable h6:not([data-element-id]) { font-size: calc(1rem * var(--text-size-multiplier)); }
.text-scalable .text-sm:not([data-element-id]) { font-size: calc(0.875rem * var(--text-size-multiplier)); }
.text-scalable .text-xs:not([data-element-id]) { font-size: calc(0.75rem * var(--text-size-multiplier)); }
.text-scalable .text-lg:not([data-element-id]) { font-size: calc(1.125rem * var(--text-size-multiplier)); }
.text-scalable .text-xl:not([data-element-id]) { font-size: calc(1.25rem * var(--text-size-multiplier)); }
.text-scalable .text-2xl:not([data-element-id]) { font-size: calc(1.5rem * var(--text-size-multiplier)); }
.text-scalable .text-3xl:not([data-element-id]) { font-size: calc(1.875rem * var(--text-size-multiplier)); }
.text-scalable .text-4xl:not([data-element-id]) { font-size: calc(2.25rem * var(--text-size-multiplier)); }
.text-scalable .text-5xl:not([data-element-id]) { font-size: calc(3rem * var(--text-size-multiplier)); }
.text-scalable .text-6xl:not([data-element-id]) { font-size: calc(3.75rem * var(--text-size-multiplier)); }

/* Individual element sizing - elements with data-element-id use their own font-size */
[data-element-id] {
  /* Individual elements use their own font-size set via style attribute */
  /* This ensures they're not overridden by the global text scaling */
}

/* Smooth scrolling behavior */
html {
  scroll-behavior: smooth;
}

/* Accessibility - Focus styles */
.focus-visible:focus {
  outline: 2px solid var(--palette-primary);
  outline-offset: 2px;
}

/* ===== THIRD-PARTY COMPONENTS ===== */

/* Leaflet Map Styling */
.leaflet-container {
  height: 100%;
  width: 100%;
  border-radius: 0.5rem;
}

/* ===== RESPONSIVE TEXT SIZING ===== */

/* Hero headline and business name responsive sizing - use desktop size on larger screens */
@media (min-width: 768px) {
  [style*="--desktop-font-size"] {
    font-size: var(--desktop-font-size) !important;
  }
}

/* ===== MOBILE LAYOUT FIXES ===== */

/* Ensure all sections and containers don't exceed viewport width */
* {
  box-sizing: border-box;
}

/* Mobile-specific layout constraints */
@media (max-width: 767px) {
  body {
    width: 100vw;
    max-width: 100vw;
    overflow-x: hidden;
  }
  
  /* Ensure all direct children of main sections don't overflow */
  main > section,
  main > div,
  .container,
  .max-w-7xl,
  .max-w-6xl,
  .max-w-5xl,
  .max-w-4xl {
    max-width: 100vw;
    overflow-x: hidden;
  }
  
  /* Prevent any images or media from causing horizontal overflow */
  img,
  video,
  iframe {
    max-width: 100%;
    height: auto;
  }
  
  /* Ensure padding doesn't cause overflow */
  .px-4,
  .px-6,
  .px-8 {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  /* Mobile text alignment - force left alignment for section content */
  .mobile-text-left {
    text-align: left !important;
  }
  
  /* Override centered text on mobile for main content */
  .text-center.mobile-left {
    text-align: left !important;
  }
  
  /* Fix hero overlay images on mobile */
  #home img[fill] {
    object-fit: cover !important;
    width: 100% !important;
    height: 100% !important;
  }
  
  /* Ensure hero section doesn't overflow on mobile */
  #home {
    overflow-x: hidden !important;
  }
}
